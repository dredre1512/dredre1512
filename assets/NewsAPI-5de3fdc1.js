import{r as l,c as w,o as b,a,b as n,d as k,e as m,f as e,w as x,v as T,u as N,F as p,g as S,t as h}from"./index-e2b31dae.js";import{a as q}from"./axios-aba6f0e0.js";import{T as I,c as M}from"./Toast-51fc03ca.js";const P={class:"bg-gray card p-5"},A=e("h1",null,"News API",-1),L={class:"mx-auto"},B={class:"mb-3"},E=e("label",{for:"q",class:"form-label"},"Search",-1),C={key:0},H=e("div",{class:"text-center card p-3"},[e("span",null,[e("i",null,"Loading...")])],-1),V=[H],D={key:1,class:"text-center text-muted card p-3"},F=e("span",null,"No news found.",-1),K=[F],W={key:2,class:"row"},$={class:"card"},z=["src"],U={class:"card-body"},X={class:"card-title"},Y={class:"text-muted"},j=["innerHTML"],G=["href"],Z={__name:"NewsAPI",setup(J){const v={headers:{"X-Api-Key":M.NEWS_API_KEY}},u=o=>{_.value=o,d.value=!0},i=l(!1),d=l(!1),_=l("Something went wrong"),r=l({q:"",pageSize:100}),c=l([]),g=w(()=>c.value.length===0),f=async()=>{if(r.value.q==="")return await u("Please input what you want to search");c.value=[],i.value=!0;const o=await q.get("https://newsapi.org/v2/everything",{...v,params:r.value}).catch(t=>{t.response.data.code==="parametersMissing"&&u("Please input what you want to search")});o&&o.data&&o.data.status=="ok"&&(c.value=o.data.articles),i.value=!1};return b(()=>{}),(o,t)=>(a(),n(p,null,[d.value?(a(),k(I,{key:0,message:_.value,onHide:t[0]||(t[0]=s=>d.value=!1)},null,8,["message"])):m("",!0),e("main",P,[A,e("section",null,[e("div",L,[e("div",B,[E,x(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>r.value.q=s),type:"email",class:"form-control",id:"q",placeholder:"What's on your mind?"},null,512),[[T,r.value.q]])])]),e("button",{onClick:t[2]||(t[2]=s=>f()),class:"btn btn-primary mb-3"},"Search"),i.value?(a(),n("div",C,V)):N(g)?(a(),n("div",D,K)):(a(),n("div",W,[(a(!0),n(p,null,S(c.value,(s,y)=>(a(),n("div",{key:"news-"+y,class:"col-md-6 col-lg-4 col-12 mb-4"},[e("div",$,[s.urlToImage?(a(),n("img",{key:0,src:s.urlToImage,class:"card-img-top",alt:"..."},null,8,z)):m("",!0),e("div",U,[e("h5",X,h(s.title),1),e("i",Y,h(s.author),1),e("p",{class:"card-text",innerHTML:s.description},null,8,j),e("a",{href:s.url,class:"btn btn-primary"},"Show more",8,G)])])]))),128))]))])])],64))}};export{Z as default};
